<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contact | ANAGRA</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0f172a;
      --card:#ffffff;
      --text:#0f172a;
      --muted:#64748b;
      --brand:#2563eb;
      --brand-600:#1d4ed8;
      --ring: 0 0 0 4px rgba(37,99,235,.15);
      --radius: 16px;
      --shadow: 0 10px 30px rgba(2,6,23,.25);
      --maxW: 1200px;
      --gap: 56px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background: radial-gradient(1200px 600px at 20% 20%, #112042 0%, var(--bg) 55%, #0a0f1f 100%);
      color:#fff;
    }

    /* Lien Retour accueil */
    .home-link{
      display:inline-block; margin:16px clamp(16px,4vw,64px) 0;
      color:#cbd5e1; text-decoration:none; font-weight:600;
    }
    .home-link:hover{color:#fff; text-decoration:underline}

    /* Grille robuste avec zones nommées */
    .wrap{
      min-height:calc(100vh - 80px);
      max-width:var(--maxW);
      margin:0 auto;
      padding:16px clamp(24px,4vw,64px) 64px;
      display:grid;
      grid-template-columns: minmax(460px, 680px) minmax(360px, 520px);
      grid-template-areas: "card hero";
      gap:var(--gap);
      align-items:center;         /* centrage vertical des deux colonnes */
      justify-content:center;
    }

    /* Colonne texte (droite) */
    .hero{
      grid-area: hero;
      max-width:520px;
      align-self:center;
    }
    .badge{
      display:inline-flex; gap:8px; align-items:center;
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.15);
      color:#e2e8f0; padding:6px 10px; border-radius:999px; font-size:12px;
      width:max-content;
    }
    h1{margin:18px 0 10px; font-size: clamp(28px, 4.2vw, 44px); line-height:1.1; letter-spacing:-0.02em;}
    .lead{color:#cbd5e1; margin:0 0 28px; font-size:clamp(15px,1.3vw,18px);}
    .bullets{display:grid; gap:14px; margin-top:12px}
    .bullets li{list-style:none; display:flex; gap:10px; align-items:flex-start; color:#cbd5e1}
    .bullets svg{flex:0 0 auto}

    /* Carte formulaire (gauche) */
    .card{
      grid-area: card;
      background:var(--card); color:var(--text);
      border-radius:var(--radius); box-shadow:var(--shadow);
      padding:28px;
      max-width:680px;
      width:100%;
      justify-self:start;
    }
    .brand{
      display:flex; align-items:center; gap:10px; margin-bottom:6px;
      color:var(--muted); font-size:14px; font-weight:600; letter-spacing:.02em; text-transform:uppercase;
    }
    .card h2{margin:6px 0 14px; font-size:22px}
    .hint{color:var(--muted); margin:0 0 18px; font-size:14px}

    form{display:grid; gap:14px}
    .row{display:grid; grid-template-columns:1fr 1fr; gap:12px}
    label{display:block; font-size:13px; color:#334155; margin:0 0 6px; font-weight:600}
    input, select, textarea{
      width:100%; padding:12px 14px; border:1px solid #e2e8f0; border-radius:12px;
      font:inherit; color:var(--text); background:#fff; outline:0; transition:.18s;
    }
    input:focus, select:focus, textarea:focus{border-color:var(--brand); box-shadow:var(--ring)}
    textarea{min-height:120px; resize:vertical}
    .req{color:#ef4444}
    .actions{display:flex; gap:10px; align-items:center; margin-top:6px}
    .btn{
      appearance:none; border:0; background:var(--brand); color:#fff;
      padding:12px 16px; border-radius:12px; font-weight:600; cursor:pointer; transition:.18s;
    }
    .btn:hover{background:var(--brand-600)}
    .btn.secondary{background:#e2e8f0; color:#0f172a}
    .btn.secondary:hover{background:#dbe3ef}

    @media (max-width: 980px){
      .wrap{
        grid-template-columns:1fr;
        grid-template-areas:
          "card"
          "hero";
        gap:28px; padding:36px 20px;
      }
      .card,.hero{max-width:100%; justify-self:stretch}
    }
  </style>
</head>
<body>

  <!-- Lien Retour à l’accueil -->
  <a class="home-link" href="index.html">← Retour à l’accueil</a>
  <!-- Bouton Rafraichissement Chat -->
<button id="btnResetChat" style="margin:10px; padding:6px 12px; background:#0176d3; color:#fff; border:none; border-radius:4px;">
  Nouveau Chat
</button>

  <main class="wrap">
    <!-- Formulaire à gauche -->
    <aside class="card" aria-label="Formulaire de contact">
      <div class="brand">ANAGRA • Contact</div>
      <h2>Demander un échange</h2>
      <p class="hint">Tous les champs marqués <span class="req">*</span> sont obligatoires.</p>

      <!-- Web-to-Lead Salesforce -->
      <form action="https://webto.salesforce.com/servlet/servlet.WebToLead?encoding=UTF-8" method="POST" novalidate>
        <!-- Hidden SFDC -->
        <input type="hidden" name="oid" value="00DgL00000BBAAe">
        <input type="hidden" name="retURL" value="https://oulaysrlucien.github.io/groupe-anagra-demos/merci.html">
        <input type="hidden" name="LeadSource" value="Web">

        <div class="row">
          <div>
            <label for="first_name">Prénom <span class="req">*</span></label>
            <input id="first_name" name="first_name" type="text" autocomplete="given-name" required>
          </div>
          <div>
            <label for="last_name">Nom <span class="req">*</span></label>
            <input id="last_name" name="last_name" type="text" autocomplete="family-name" required>
          </div>
        </div>

        <div class="row">
          <div>
            <label for="company">Société <span class="req">*</span></label>
            <input id="company" name="company" type="text" required>
          </div>
          <div>
            <label for="email">Email <span class="req">*</span></label>
            <input id="email" name="email" type="email" inputmode="email" autocomplete="email" required>
          </div>
        </div>

        <div class="row">
          <div>
            <label for="phone">Téléphone <span class="req">*</span></label>
            <input id="phone" name="phone" type="tel" inputmode="tel" autocomplete="tel">
          </div>
          <div>
            <label for="Country__c">Pays <span class="req">*</span></label>
            <select id="Country__c" name="Country__c" required>
              <option value="" selected disabled>Choisissez…</option>
              <option>France</option>
              <option>Belgique</option>
              <option>Suisse</option>
              <option>Luxembourg</option>
              <option>Canada</option>
              <option>Autre</option>
            </select>
          </div>
        </div>

        <div class="row">
          <div>
            <label for="Sector__c">Secteur <span class="req">*</span></label>
            <select id="Sector__c" name="Sector__c" required>
              <option value="" selected disabled>Choisissez…</option>
              <option>Banque</option>
              <option>Retail</option>
              <option>Automobile</option>
              <option>Santé</option>
              <option>Industrie</option>
              <option>Autre</option>
            </select>
          </div>
          <div>
            <label for="Role__c">Rôle dans l’entreprise <span class="req">*</span></label>
            <input id="Role__c" name="Role__c" type="text" placeholder="Exemple : Directeur Marketing" required>
          </div>
        </div>

        <div>
          <!-- Projet_Description__c : déclencheur -->
          <label for="Projet_Description__c">Votre projet <span class="req">*</span></label>
          <textarea id="Projet_Description__c" name="Projet_Description__c" rows="6" maxlength="32000" required
            placeholder="Décrivez brièvement votre projet, vos objectifs et votre contexte…"></textarea>
        </div>

        <div class="actions">
          <button class="btn" type="submit">Envoyer ma demande</button>
          <button class="btn secondary" type="reset">Effacer</button>
        </div>
      </form>
    </aside>

    <!-- Texte à droite -->
    <section class="hero" aria-label="Présentation">
      <span class="badge">Prise de contact • RDV sous 24h</span>
      <h1>Parlez-nous de votre projet</h1>
      <p class="lead">
        Décrivez vos objectifs, votre contexte et vos contraintes. Notre équipe vous recontacte rapidement
        avec des premières recommandations et une proposition de créneau pour un échange.
      </p>
      <ul class="bullets" role="list">
        <li>
          <svg width="20" height="20" viewBox="0 0 24 24" fill="#22c55e" aria-hidden="true"><path d="M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
          Réponse confirmée instantanément par email.
        </li>
        <li>
          <svg width="20" height="20" viewBox="0 0 24 24" fill="#22c55e" aria-hidden="true"><path d="M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
          Qualification automatique de votre besoin pour préparer le RDV.
        </li>
        <li>
          <svg width="20" height="20" viewBox="0 0 24 24" fill="#22c55e" aria-hidden="true"><path d="M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
          Données hébergées et traitées de façon conforme (RGPD).
        </li>
      </ul>
    </section>
  </main>

  <!-- Chat Code Snippet (gardez exactement vos valeurs) -->
  <script type='text/javascript'>
    function initEmbeddedMessaging() {
      try {
        embeddedservice_bootstrap.settings.language = 'fr';
        embeddedservice_bootstrap.init(
          '00DgL00000BBAAe',
          'Web_Messaging_Custom',
          'https://orgfarm-ab4c8353cf-dev-ed.develop.my.site.com/ESWWebMessagingCustom1758535912617',
          { scrt2URL: 'https://orgfarm-ab4c8353cf-dev-ed.develop.my.salesforce-scrt.com' }
        );
      } catch (err) {
        console.error('Error loading Embedded Messaging: ', err);
      }
    };
  </script>
  <script type='text/javascript' src='https://orgfarm-ab4c8353cf-dev-ed.develop.my.site.com/ESWWebMessagingCustom1758535912617/assets/js/bootstrap.min.js' onload='initEmbeddedMessaging()'></script>


  <!-- Script Reset (s’exécute quand le DOM est prêt) -->
<script>
  window.addEventListener('DOMContentLoaded', function () {
    function resetChat() {
      try {
        // Tente de finir proprement la session (si API dispo)
        try {
          if (window.embeddedservice_bootstrap && embeddedservice_bootstrap.liveAgentAPI) {
            if (typeof embeddedservice_bootstrap.liveAgentAPI.endChat === 'function') {
              embeddedservice_bootstrap.liveAgentAPI.endChat();
            }
          }
        } catch (e) {}

        // Nettoie le stockage local lié au chat
        try {
          const patterns = /(embeddedservice|esw|messaging|bootstrap)/i;
          Object.keys(localStorage).forEach(k => { if (patterns.test(k)) localStorage.removeItem(k); });
          Object.keys(sessionStorage).forEach(k => { if (patterns.test(k)) sessionStorage.removeItem(k); });
          // Pour un reset radical en POC :
          // localStorage.clear(); sessionStorage.clear();
        } catch (e) {}

        // Recharge avec cache-buster
        const url = new URL(window.location.href);
        url.searchParams.set('t', Date.now().toString());
        window.location.replace(url.toString());
      } catch (e) {
        console.error('Reset chat a échoué : ', e);
        window.location.reload();
      }
    }

    const btn = document.getElementById('btnResetChat');
    if (btn) btn.addEventListener('click', resetChat);
  });
</script>


  
</body>
</html>
